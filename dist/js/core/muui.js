define(["core/utils"],function(e){var r;return r=function(){function r(e){var r;if(this.opts=r=this.get_opts(e),!r.el)throw new Error("el cannot be empty.");this.$el=$(r.el),this.render(r.render_args).done(function(e){return function(){return e.init_events()}}(this))}return r.defaults={el:"",datasource:"",render_args:{},render_fn:"replaceWith",data_filter:function(e){return e},before_render:function(){},after_render:function(){}},r.prototype.get_opts=function(e){return $.extend({},r.defaults,e)},r.prototype.render=function(){var r,t,n,o,i,u,f,a,s;return r=this.$el,f=this.opts,n=f.before_render,t=f.after_render,a=f.render_fn,s=f.tmpl,i=f.datasource,o=f.data_filter,n(),u=$.Deferred(),s?require(["text!"+s+".html"],function(n){return function(s){var d;return d=function(e){var o;return o=$(_.template(s)(e)),r[a](o),"replaceWith"===a&&(n.$el=o),u.resolve(e,o),t(e,o)},i?e.api(i).done(function(e){return d(o(e))}):d(f.data||{})}}(this)):(u.resolve(),t()),u.promise()},r.prototype.init_events=function(){},r}()});