var slice=[].slice;define(["muui/core/utils"],function(e){var t;return t=function(){function t(e){var t;if(this._jq=$({}),this.opts=t=this.getOpts(e),!t.el)throw new Error("el cannot be empty.");this.$el=$(t.el),this.beforeRender(),t.beforeRender.apply(this),this.trigger("beforeRender"),this.render(t.renderArgs).done(function(e){return function(){var r;return r=1<=arguments.length?slice.call(arguments,0):[],e.afterRender([r]),t.afterRender.apply(e,r),e.trigger("afterRender",[r]),e.initEvents(),t.initEvents.apply(e)}}(this))}return t.defaults={el:"",dataSource:"",renderArgs:{},renderFn:"replaceWith",dataFilter:function(e){return e},beforeRender:function(){},afterRender:function(){},initEvents:function(){}},t.prototype.getOpts=function(){return t.defaults},t.prototype.render=function(t){var r,n,i,o,s,u,a,l,p,c;return p=this,o=$.Deferred(),r=this.$el,s=this.opts,u=this.opts,c=u.tmpl,a=u.renderFn,i=u.dataSource,n=u.dataFilter,l=function(s){var u;return u=function(e){var t;return t=$(s(_.isEmpty(e)&&{}||e)),r[a](t),"replaceWith"===a&&(p.$el=t),o.resolve(e,t)},i?e.api(i).done(function(e){return u(n(e))}):u(t)},c?e.isTemplate(c)?l(c):require(["text!"+c+".html"],function(e){return l(_.template(e))}):o.resolve(),o.promise()},t.prototype.on=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._jq.on.apply(this._jq,e),this},t.prototype.off=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._jq.off.apply(this._jq,e),this},t.prototype.once=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._jq.one.apply(this._jq,e),this},t.prototype.trigger=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._jq.trigger.apply(this._jq,e),this},t.prototype.initEvents=function(){},t.prototype.beforeRender=function(){},t.prototype.afterRender=function(){},t}()});