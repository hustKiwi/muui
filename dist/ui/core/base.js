var slice=[].slice;define(["muui/core/utils","muui/lib/eventEmitter/eventEmitter"],function(e,t){var r;return r=function(){function r(e){var r;if(this._ee=new t,this.opts=r=this.getOpts(e),!r.el)throw new Error("el cannot be empty.");this.$el=$(r.el),this.beforeRender(),r.beforeRender.apply(this),this.trigger("beforeRender"),this.render(r.renderArgs).done(function(e){return function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],e.afterRender([t]),r.afterRender.apply(e,t),e.trigger("afterRender",[t]).initEvents(),r.initEvents.apply(e)}}(this))}return r.defaults={el:"",dataSource:"",renderArgs:{},renderFn:"replaceWith",dataFilter:function(e){return e},beforeRender:function(){},afterRender:function(){},initEvents:function(){}},r.prototype.getOpts=function(){return r.defaults},r.prototype.render=function(t){var r,n,i,o,s,u,a,l,p,c;return p=this,o=$.Deferred(),r=this.$el,s=this.opts,u=this.opts,c=u.tmpl,a=u.renderFn,i=u.dataSource,n=u.dataFilter,l=function(s){var u;return u=function(e){var t;return t=$(s(_.isEmpty(e)&&{}||e)),r[a](t),"replaceWith"===a&&(p.$el=t),o.resolve(e,t)},i?e.api(i).done(function(e){return u(n(e))}):u(t)},c?e.isTemplate(c)?l(c):require(["text!"+c+".html"],function(e){return l(_.template(e))}):o.resolve(),o.promise()},r.prototype.on=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._ee.on.apply(this._ee,e),this},r.prototype.off=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._ee.off.apply(this._ee,e),this},r.prototype.once=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._ee.one.apply(this._ee,e),this},r.prototype.trigger=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],this._ee.emit.apply(this._ee,e),this},r.prototype.initEvents=function(){},r.prototype.beforeRender=function(){},r.prototype.afterRender=function(){},r}()});