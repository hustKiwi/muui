define(function(){var e;return e=String.prototype,_.isFunction(e.startsWith)||(e.startsWith=function(e){return this.slice(0,e.length)===e}),_.isFunction(e.endsWith)||(e.endsWith=function(e){return this.slice(-e.length)===e}),{api:function(e,n,r){var t,o,i;return t=$.Deferred(),o={type:"GET",dataType:"jsonp",handleError:function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.error?console.error(e):void 0}},_.isObject(e)&&(r=n,n=e.data,e=e.url),i=$.extend(o,r),null==n&&(n={}),$.ajax({url:e,data:n,dataType:i.dataType,type:i.type,success:function(e){return t.resolve(e)},error:function(){var e;return e="ajax error",t.reject(e),i.handleError(e)}}),t.promise()},isTemplate:function(e){return _.isFunction(e)&&"source"in e}}});