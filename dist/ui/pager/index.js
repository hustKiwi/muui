var __hasProp={}.hasOwnProperty,__extends=function(e,t){function n(){this.constructor=e}for(var r in t)__hasProp.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};define(["muui/core/base"],function(e){var t,n,r;return n=Math.ceil,r=Math.floor,t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.defaults={el:".muui-pager",tmpl:_.template('<% var path = args.path; %>\n<div class="muui-pager">\n<% _.each(pager, function(item) { %>\n    <% if (item === \'prev\') { %>\n        <a class="muui-pager-prev muui-pager-item"\n            data-page="<%- args.prev %>"\n            href="<%- path.replace(/{page}/g, args.prev) %>">\n            <%- args.prev_lable %>\n        </a>\n    <% } else if (item === \'prev_disabled\') { %>\n        <span class="muui-pager-prev muui-pager-disabled muui-pager-item">\n            <%- args.prev_lable %>\n        </span>\n    <% } else if (item === \'next\') { %>\n        <a class="muui-pager-next muui-pager-item"\n            data-page="<%- args.next %>"\n            href="<%- path.replace(/{page}/g, args.next) %>">\n            <%- args.next_lable %>\n        </a>\n    <% } else if (item === \'next_disabled\') { %>\n        <span class="muui-pager-next muui-pager-disabled muui-pager-item">\n            <%- args.next_lable %>\n        </span>\n    <% } else if (item === \'cur\') { %>\n        <span class="muui-pager-item cur"><%- args.cur %></span>\n    <% } else if (item === \'...\') { %>\n        <span class="muui-pager-ellipse">...</span>\n    <% } else { %>\n        <a class="muui-pager-item"\n            data-page="<%- item %>"\n            href="<%- path.replace(/{page}/g, item) %>">\n            <%- item %>\n        </a>\n    <% } %>\n<% }); %>\n</div>'),handles:{redirect:function(){}}},t.prototype.get_opts=function(e){return $.extend(!0,{},t.__super__.get_opts.call(this),t.defaults,e)},t.prototype.init_events=function(){var e,t;return t="muui-pager-item",e=this.opts.handles,this.$el.on("mouseenter","a."+t+":not(.on, .cur)",function(){return $(this).addClass("on")}).on("mouseleave","a."+t,function(){return $(this).removeClass("on")}).on("click","."+t,e.redirect)},t.prototype.render=function(e){return t.__super__.render.call(this,this.build(e))},t.prototype.build=function(e){var t,a,s,p,i,u,l,o,c,g,h,m,d,f,v,x;return _.defaults(e,{path:"",size:10,length:7,prev_lable:"上一页",next_lable:"下一页"}),t=e.cur,g=e.total,c=e.size,i=e.length,l=n(g/c),7>i&&(i=2),i>l&&(i=l),1<=(h=t=~~t)&&l>=h||(t=1),1!==t&&(s=!0,e.prev=t-1),t!==l&&(a=!0,e.next=t+1),u=r((i-1)/2),o=1>t-u?function(){f=[];for(var e=1;i>=1?i>=e:e>=i;i>=1?e++:e--)f.push(e);return f}.apply(this):t+u>l-2?function(){v=[];for(var e=m=l-i;l>=m?l>=e:e>=l;l>=m?e++:e--)v.push(e);return v}.apply(this):function(){x=[];for(var e=d=t-u,n=t+i-1-u;n>=d?n>=e:e>=n;n>=d?e++:e--)x.push(e);return x}.apply(this),1===o.length?[]:(2!==i?(1!==o[0]&&(o[0]=1,o[1]!==t&&(o[1]="...")),p=o.length,o[p-1]!==l&&(o[p-1]=l,o[p-2]="..."),o[_.indexOf(o,t)]="cur"):o.length=0,o.unshift(s&&"prev"||"prev_disabled"),o.push(a&&"next"||"next_disabled"),{args:_.extend(e,{cur:t,total:g,size:c,length:i}),pager:o})},t}(e)});