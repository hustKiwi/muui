var __hasProp={}.hasOwnProperty,__extends=function(e,n){function t(){this.constructor=e}for(var r in n)__hasProp.call(n,r)&&(e[r]=n[r]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e};define(["muui/core/base"],function(e){var n,t,r;return t=Math.ceil,r=Math.floor,n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.defaults={el:".muui-pager",tmpl:_.template('<% if (args.none) { %>\n<% } else { %>\n    <% var path = args.path; %>\n    <div class="muui-pager">\n    <% _.each(pager, function(item) { %>\n        <% if (item === \'prev\') { %>\n            <a class="muui-pager-prev muui-pager-item"\n                data-page="<%- args.prev %>"\n                href="<%- path.replace(/{page}/g, args.prev) %>">\n                <%- args.prev_lable %>\n            </a>\n        <% } else if (item === \'prev_disabled\') { %>\n            <span class="muui-pager-prev muui-pager-disabled muui-pager-item">\n                <%- args.prev_lable %>\n            </span>\n        <% } else if (item === \'next\') { %>\n            <a class="muui-pager-next muui-pager-item"\n                data-page="<%- args.next %>"\n                href="<%- path.replace(/{page}/g, args.next) %>">\n                <%- args.next_lable %>\n            </a>\n        <% } else if (item === \'next_disabled\') { %>\n            <span class="muui-pager-next muui-pager-disabled muui-pager-item">\n                <%- args.next_lable %>\n            </span>\n        <% } else if (item === \'cur\') { %>\n            <span class="muui-pager-item cur"><%- args.cur %></span>\n        <% } else if (item === \'...\') { %>\n            <span class="muui-pager-ellipse">...</span>\n        <% } else { %>\n            <a class="muui-pager-item"\n                data-page="<%- item %>"\n                href="<%- path.replace(/{page}/g, item) %>">\n                <%- item %>\n            </a>\n        <% } %>\n    <% }); %>\n    </div>\n<% } %>'),handles:{redirect:function(){}}},n.prototype.get_opts=function(e){return $.extend(!0,{},n.__super__.get_opts.call(this),n.defaults,e)},n.prototype.init_events=function(){var e,n;return n="muui-pager-item",e=this.opts.handles,this.$el.on("mouseenter","a."+n+":not(.on, .cur)",function(){return $(this).addClass("on")}).on("mouseleave","a."+n,function(){return $(this).removeClass("on")}).on("click","."+n,e.redirect)},n.prototype.render=function(e){return e=this.build(e),n.__super__.render.call(this,e&&e||{args:{none:!0}})},n.prototype.build=function(e){var n,a,s,i,p,u,l,o,c,g,h,m,f,d,v,x,b;return _.defaults(e,{path:"",size:10,length:7,prev_lable:"上一页",next_lable:"下一页"}),n=e.cur,h=e.total,g=e.size,p=e.length,g>=h?null:(o=t(h/g),u=!1,p>o&&(p=o,u=!0),1<=(m=n=~~n)&&o>=m||(n=1),1!==n&&(s=!0,e.prev=n-1),n!==o&&(a=!0,e.next=n+1),l=r((p-1)/2),c=1>n-l?function(){v=[];for(var e=1;p>=1?p>=e:e>=p;p>=1?e++:e--)v.push(e);return v}.apply(this):n+l>o-2?function(){x=[];for(var e=f=o-p;o>=f?o>=e:e>=o;o>=f?e++:e--)x.push(e);return x}.apply(this):function(){b=[];for(var e=d=n-l,t=n+p-1-l;t>=d?t>=e:e>=t;t>=d?e++:e--)b.push(e);return b}.apply(this),1===c.length?null:(2!==p?(1!==c[0]&&(c[0]=1,c[1]!==n&&(c[1]="...")),i=c.length,c[i-1]!==o&&(c[i-1]=o,c[i-2]="..."),c[_.indexOf(c,n)]="cur"):c.length=0,c.unshift(s&&"prev"||"prev_disabled"),c.push(a&&"next"||"next_disabled"),u&&(c=_.filter(c,function(e){return"..."!==e})),{args:_.extend(e,{cur:n,total:h,size:g,length:p}),pager:c}))},n}(e)});